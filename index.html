<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>حل أسئلة الوحدة الثانية</title>
  <style>
    body {
      direction: rtl;
      text-align: right;
      font-family: "Tahoma", "Cairo", sans-serif;
      line-height: 2;
      margin: 20px;
      font-size: 18px;
      background-color: #fafafa;
    }
    h1, h2 {
      text-align: center;
      font-weight: 700;
      color: #003366;
    }
    .question {
      border: 1px solid #ddd;
      padding: 12px 16px;
      margin-bottom: 24px;
      border-radius: 8px;
      background-color: #ffffff;
      box-shadow: 0 2px 4px rgba(0,0,0,0.04);
    }
    .q-title {
      font-weight: 700;
      font-size: 20px;
      margin-bottom: 8px;
      color: #1a3a5f;
    }
    .answer {
      margin-top: 8px;
      padding: 8px 12px;
      border-radius: 6px;
      border-right: 4px solid #1a3a5f;
    }
    .question:nth-of-type(odd) .answer {
      background-color: #eef5ff;
    }
    .question:nth-of-type(even) .answer {
      background-color: #fff6e8;
    }
    .step {
      margin-right: 16px;
      margin-bottom: 4px;
    }
    .note {
      margin-top: 6px;
      margin-right: 16px;
      font-size: 16px;
      color: #555;
    }
    .frac {
      display: inline-block;
      vertical-align: middle;
      text-align: center;
      font-size: 95%;
    }
    .frac .num {
      display: block;
      border-bottom: 1px solid #000;
      padding: 0 2px;
    }
    .frac .den {
      display: block;
      padding: 0 2px;
    }
    .graph-section {
      border: 1px dashed #999;
      padding: 12px 16px;
      margin: 20px 0;
      border-radius: 8px;
      background-color: #f4faff;
    }
    .graph-title {
      font-weight: 700;
      color: #004b7f;
      margin-bottom: 8px;
    }
    .graph-row {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
    }
    .graph-box {
      flex: 1 1 260px;
      min-width: 260px;
      text-align: center;
    }
    canvas {
      border: 1px solid #ccc;
      border-radius: 6px;
      background-color: #ffffff;
    }
    .graph-caption {
      margin-top: 6px;
      font-size: 16px;
    }
  </style>
</head>
<body>

<h1>مراجعة الاختبار النهائي</h1>
<h2>حل أسئلة الوحدة الثانية (العلاقات والدالة العكسية والتحويلات)</h2>

<!-- ١ -->
<div class="question">
  <div class="q-title">السؤال (١): ظلِّل الشكل الذي يمثِّل علاقة <u>متعدِّد إلى واحد</u></div>
  <div class="answer">
    <p class="step">
      متعدِّد إلى واحد: أكثر من قيمة لـ س تقابلها نفس القيمة لـ ص، مع أن لكل س ناتجًا واحدًا.
    </p>
    <p class="step">
      هذا يتحقّق في الدالة التربيعية الرأسية (منحنى على شكل حرف U).
    </p>
    <p class="step">
      إذًا الشكل الصحيح هو <strong>الرسم الرابع (الدالة التربيعية الرأسية)</strong>.
    </p>
    <p class="note">
      المستقيم الأفقي يقطع المنحنى في نقطتين ⇒ ليست واحدًا لواحد، بل متعدِّد إلى واحد.
    </p>
  </div>
</div>

<!-- ٢ -->
<div class="question">
  <div class="q-title">السؤال (٢): ظلِّل الشكل الذي يمثِّل علاقة <u>واحد إلى واحد</u></div>
  <div class="answer">
    <p class="step">
      واحد إلى واحد: لكل س قيمة واحدة لـ ص، ولكل ص قيمة واحدة لـ س.
    </p>
    <p class="step">
      الخط المستقيم المائل ينجح في اختبار المستقيم الرأسي والأفقي معًا.
    </p>
    <p class="step">
      إذًا الشكل الصحيح هو <strong>الرسم الثاني (خط مستقيم مائل)</strong>.
    </p>
  </div>
</div>

<!-- رسومات متحركة أفقية لواحد لواحد / متعدّد لواحد -->
<div class="graph-section">
  <div class="graph-title">رسم متحرِّك لاختبار الخط الأفقي (هل الدالة واحد لواحد؟)</div>
  <p class="note">
    في كل رسم يظهر منحنى الدالة، ومعه خط أفقي يتحرّك لأعلى ولأسفل:
    إذا قطع الخط المنحنى في نقطتين ⇒ الدالة ليست واحدًا لواحد (متعدِّد إلى واحد)،
    وإذا قطع نقطة واحدة فقط ⇒ الدالة واحد إلى واحد.
  </p>
  <div class="graph-row">
    <div class="graph-box">
      <canvas id="parabolaCanvas" width="260" height="200"></canvas>
      <div class="graph-caption">ص = س² (متعدِّد إلى واحد)</div>
    </div>
    <div class="graph-box">
      <canvas id="cubicCanvas" width="260" height="200"></canvas>
      <div class="graph-caption">ص = س³ (واحد إلى واحد)</div>
    </div>
    <div class="graph-box">
      <canvas id="lineCanvas" width="260" height="200"></canvas>
      <div class="graph-caption">ص = س (دالة خطية واحد إلى واحد)</div>
    </div>
  </div>
</div>

<!-- ٣ -->
<div class="question">
  <div class="q-title">السؤال (٣): د(س) = ٢س + ٥ ، حيث س ∈ ح ، أوجد د⁻¹(س)</div>
  <div class="answer">
    <p class="step">
      (١) نضع ص بدل د(س):  
      ص = ٢س + ٥
    </p>
    <p class="step">
      (٢) نبدِّل ص مع س:  
      س = ٢ص + ٥
    </p>
    <p class="step">
      (٣) نحل لـ ص:
      <br>س − ٥ = ٢ص ⇒
      ص =
      <span class="frac"><span class="num">س − ٥</span><span class="den">٢</span></span>
      .
    </p>
    <p class="step">
      إذًا الدالة العكسية:
      <strong>د⁻¹(س) =
        <span class="frac"><span class="num">س − ٥</span><span class="den">٢</span></span>
      </strong> ، وهي دالة واحد إلى واحد.
    </p>
  </div>
</div>

<!-- ٤ -->
<div class="question">
  <div class="q-title">السؤال (٤): د(س) = س² + ١ ، حيث س ∈ ح</div>
  <div class="answer">
    <p class="step">
      د(١) = ٢ ، د(−١) = ٢ أيضًا ⇒ قيمتان مختلفتان لـ س لهما نفس ص.
    </p>
    <p class="step">
      إذًا العلاقة <strong>متعدِّد إلى واحد</strong>.
    </p>
  </div>
</div>

<!-- ٥ -->
<div class="question">
  <div class="q-title">السؤال (٥): أيُّ العلاقات البيانية تمثِّل علاقة <u>واحد إلى متعدِّد</u>؟</div>
  <div class="answer">
    <p class="step">
      واحد إلى متعدِّد: قيمة واحدة لـ س تقابلها أكثر من قيمة لـ ص.
    </p>
    <p class="step">
      هذا يحدث في المنحنى الجانبي (قطع مكافئ أفقي)؛ المستقيم الرأسي يقطع الرسم في أكثر من نقطة.
    </p>
    <p class="step">
      إذًا العلاقة واحد إلى متعدِّد هي <strong>الرسم الذي يمثِّل قطعًا مكافئًا أفقيًّا</strong>.
    </p>
  </div>
</div>

<!-- رسومات متحركة رأسية لاختبار كون العلاقة دالة أم لا -->
<div class="graph-section">
  <div class="graph-title">رسم متحرِّك لاختبار المستقيم الرأسي (هل العلاقة دالة؟)</div>
  <p class="note">
    إذا قطع المستقيم الرأسي المنحنى في نقطتين ⇒ ليست دالة (واحد إلى متعدِّد)،
    وإذا قطع نقطة واحدة فقط ⇒ العلاقة تمثِّل دالة.
  </p>
  <div class="graph-row">
    <div class="graph-box">
      <canvas id="sidewaysCanvas" width="260" height="200"></canvas>
      <div class="graph-caption">قطع مكافئ أفقي (ليست دالة)</div>
    </div>
    <div class="graph-box">
      <canvas id="quadVCanvas" width="260" height="200"></canvas>
      <div class="graph-caption">ص = س² (دالة؛ تنجح في اختبار المستقيم الرأسي)</div>
    </div>
  </div>
</div>

<!-- ٦ -->
<div class="question">
  <div class="q-title">السؤال (٦): أيُّ الدوال الآتية لا تمثِّل دالة واحد إلى واحد؟</div>
  <div class="answer">
    <p class="step">
      الدوال الخطية غير الأفقية مثل ص = ٣س + ٤ واحد إلى واحد، وكذلك ص = س³.
    </p>
    <p class="step">
      الدالة الجذرية ص = √(٥ − س) تعطي نفس القيمة لـ ص لقيمتين مختلفتين من س، لذلك ليست واحدًا إلى واحد.
    </p>
    <p class="step">
      إذًا الدالة التي <strong>لا تمثِّل واحدًا إلى واحد</strong> هي
      <strong>ص = √(٥ − س)</strong>.
    </p>
  </div>
</div>

<!-- ٧ -->
<div class="question">
  <div class="q-title">السؤال (٧): مدى الدالة د(س) = (٢ − س)² − ٣</div>
  <div class="answer">
    <p class="step">
      نلاحظ أن رأس المنحنى عندما س = ٢.
    </p>
    <p class="step">
      نعوِّض بقيمة رأس المنحنى:  
      د(٢) = (٢ − ٢)² − ٣ = −٣ (أصغر قيمة لـ ص).
    </p>
    <p class="step">
      باقي القيم أكبر من −٣ ⇒ <strong>المدى: ص ≥ −٣.</strong>
    </p>
  </div>
</div>

<!-- ٨ -->
<div class="question">
  <div class="q-title">السؤال (٨): مدى الدالة د(س) = ٢ − س²</div>
  <div class="answer">
    <p class="step">
      رأس المنحنى عندما س = ٠.
    </p>
    <p class="step">
      نعوِّض: د(٠) = ٢ (أكبر قيمة لـ ص).
    </p>
    <p class="step">
      باقي القيم أقل من ٢ ⇒ <strong>المدى: ص ≤ ٢.</strong>
    </p>
  </div>
</div>

<!-- ٩ -->
<div class="question">
  <div class="q-title">السؤال (٩): من الرسوم (أ)، (ب)، (ج) ـ حدِّد المجال والمدى لكل دالة</div>
  <div class="answer">
    <p class="step">
      خطوات عامّة:
    </p>
    <ul class="step">
      <li>المجال: نقرأ من محور س بداية المنحنى ونهايته (مع الأسهم أو النقاط المفتوحة والمغلقة).</li>
      <li>
        المدى: نأخذ أصغر وأكبر قيم لـ س من المجال، ثم <u>نعوِّض</u> في الدالة لإيجاد قيم ص، مع ملاحظة رؤوس المنحنيات والنقاط القصوى.
      </li>
    </ul>
  </div>
</div>

<!-- ١٠ -->
<div class="question">
  <div class="q-title">السؤال (١٠): يمثِّل الشكل بيان الدالة د(س) = س² − ٣ ، أوجد مدى د(س)</div>
  <div class="answer">
    <p class="step">
      من الرسم رأس المنحنى عند س = ٠.
    </p>
    <p class="step">
      نعوِّض: د(٠) = −٣ (أصغر قيمة لـ ص).
    </p>
    <p class="step">
      إذًا <strong>المدى: ص ≥ −٣.</strong>
    </p>
  </div>
</div>

<!-- ١١ -->
<div class="question">
  <div class="q-title">السؤال (١١): يمثِّل الشكل بيان الدالة د(س) = ٢ − س² ، أوجد مدى د(س)</div>
  <div class="answer">
    <p class="step">
      رأس المنحنى عند س = ٠.
    </p>
    <p class="step">
      نعوِّض: د(٠) = ٢ (أكبر قيمة لـ ص).
    </p>
    <p class="step">
      إذًا <strong>المدى: ص ≤ ٢.</strong>
    </p>
  </div>
</div>

<!-- ١٢ -->
<div class="question">
  <div class="q-title">السؤال (١٢): من الرسم البياني بين س ، ص ـ أيُّ القولين صحيح؟</div>
  <div class="answer">
    <p class="step">
      من الرسم (منحنى جانبي): المستقيم الرأسي يقطع المنحنى في نقطتين، أي قيمة واحدة لـ س تقابلها قيمتان لـ ص.
    </p>
    <p class="step">
      إذًا العلاقة <strong>واحد إلى متعدِّد</strong>، وقول الطالب الثاني هو الصحيح.
    </p>
  </div>
</div>

<!-- ١٣ -->
<div class="question">
  <div class="q-title">السؤال (١٣): إذا كانت د(س) = ٣س ، هـ(س) = ٣س + ١ ، أوجد قيمة (هـ ∘ د)(١)</div>
  <div class="answer">
    <p class="step">
      د(١) = ٣ × ١ = ٣ ، ثم هـ(٣) = ٩ + ١ = ١٠ ⇒ <strong>(هـ ∘ د)(١) = ١٠.</strong>
    </p>
  </div>
</div>

<!-- ١٤ -->
<div class="question">
  <div class="q-title">السؤال (١٤): د(س) = س + ٦ ، ل(س) = س − ٤ ، حيث س ∈ ح ، أوجد (د ∘ ل)(س)</div>
  <div class="answer">
    <p class="step">
      ل(س) = س − ٤
    </p>
    <p class="step">
      (د ∘ ل)(س) = د(س − ٤) = (س − ٤) + ٦ = س + ٢ ⇒ <strong>(د ∘ ل)(س) = س + ٢.</strong>
    </p>
  </div>
</div>

<!-- ١٥ -->
<div class="question">
  <div class="q-title">السؤال (١٥): (د ∘ هـ)(س) = ٤ − س² ، أوجد (د ∘ هـ)(٢)</div>
  <div class="answer">
    <p class="step">
      بالتعويض: (د ∘ هـ)(٢) = ٤ − (٢)² = ٠ ⇒ <strong>(د ∘ هـ)(٢) = ٠.</strong>
    </p>
  </div>
</div>

<!-- ١٦ -->
<div class="question">
  <div class="q-title">السؤال (١٦): د : س ↦ س³ ، هـ : س ↦ ٣س − ٢ ، أوجد (هـ ∘ د)(٣)</div>
  <div class="answer">
    <p class="step">
      د(٣) = ٢٧ ، ثم هـ(٢٧) = ٣ × ٢٧ − ٢ = ٨١ − ٢ = ٧٩ ⇒ <strong>(هـ ∘ د)(٣) = ٧٩.</strong>
    </p>
  </div>
</div>

<!-- ١٧ -->
<div class="question">
  <div class="q-title">السؤال (١٧): إذا كان (هـ ∘ هـ)(س) = ٥٥ حيث هـ(س) = ٣س − ٢ ، أوجد قيمة س</div>
  <div class="answer">
    <p class="step">
      هـ(س) = ٣س − ٢ ⇒ هـ(هـ(س)) = ٣(٣س − ٢) − ٢ = ٩س − ٨.
    </p>
    <p class="step">
      ٩س − ٨ = ٥٥ ⇒ ٩س = ٦٣ ⇒ س = ٧ ⇒ <strong>س = ٧.</strong>
    </p>
  </div>
</div>

<!-- ١٨ -->
<div class="question">
  <div class="q-title">السؤال (١٨): د(س) = (س − ٣)² + ١ ، أوجد (د ∘ د)(٢)</div>
  <div class="answer">
    <p class="step">
      د(٢) = (٢ − ٣)² + ١ = ٢  
      ⇒ (د ∘ د)(٢) = د(٢) = ٢ ⇒ <strong>(د ∘ د)(٢) = ٢.</strong>
    </p>
  </div>
</div>

<!-- ١٩ -->
<div class="question">
  <div class="q-title">السؤال (١٩): ت(س) = س + ٥ ، حيث س ∈ ح ، ٠ &lt; س &lt; ١٠</div>
  <div class="answer">
    <p class="step">
      نعوِّض في المجال:  
      ت(٠) = ٥ (نقطة مفتوحة) ، ت(١٠) = ١٥ (نقطة مفتوحة)، ثم نصل بينهما بخط مستقيم.
    </p>
  </div>
</div>

<!-- ٢٠ -->
<div class="question">
  <div class="q-title">السؤال (٢٠): د(س) = س + ٤ ، أوجد د⁻¹(س)</div>
  <div class="answer">
    <p class="step">
      (١) نضع ص بدل د(س):  
      ص = س + ٤
    </p>
    <p class="step">
      (٢) نبدِّل ص مع س:  
      س = ص + ٤
    </p>
    <p class="step">
      (٣) نحل لـ ص:  
      ص = س − ٤
    </p>
    <p class="step">
      إذًا <strong>د⁻¹(س) = س − ٤.</strong>
    </p>
  </div>
</div>

<!-- ٢١ -->
<div class="question">
  <div class="q-title">السؤال (٢١): د(س) = (س − ٢)² − ٧ ، س ≥ ٢ ، أوجد د⁻¹(س)</div>
  <div class="answer">
    <p class="step">
      (١) نضع ص بدل د(س):  
      ص = (س − ٢)² − ٧
    </p>
    <p class="step">
      (٢) نبدِّل ص مع س:  
      س = (ص − ٢)² − ٧
    </p>
    <p class="step">
      (٣) نحل لـ ص:  
      س + ٧ = (ص − ٢)²  
      ⇒ √(س + ٧) = ص − ٢ (نأخذ الجذر الموجب لأن ص يمثل س في الدالة الأصلية وكان س ≥ ٢)  
      ⇒ ص = ٢ + √(س + ٧).
    </p>
    <p class="step">
      إذًا <strong>د⁻¹(س) = ٢ + √(س + ٧)</strong> ، ومجالها س ≥ −٧.
    </p>
  </div>
</div>

<!-- ٢٢ -->
<div class="question">
  <div class="q-title">السؤال (٢٢): د(س) =
    <span class="frac"><span class="num">٨</span><span class="den">س − ٤</span></span> ، س ≠ ٤ ، أوجد د⁻¹(س)</div>
  <div class="answer">
    <p class="step">
      (١) نضع ص بدل د(س):  
      ص =
      <span class="frac"><span class="num">٨</span><span class="den">س − ٤</span></span>
    </p>
    <p class="step">
      (٢) نبدِّل ص مع س:  
      س =
      <span class="frac"><span class="num">٨</span><span class="den">ص − ٤</span></span>
    </p>
    <p class="step">
      (٣) نحل لـ ص:  
      س(ص − ٤) = ٨ ⇒ سص − ٤س = ٨ ⇒ سص = ٨ + ٤س  
      ⇒ ص =
      <span class="frac"><span class="num">٨ + ٤س</span><span class="den">س</span></span>
      ، س ≠ ٠.
    </p>
    <p class="step">
      إذًا <strong>د⁻¹(س) =
        <span class="frac"><span class="num">٨ + ٤س</span><span class="den">س</span></span>
      </strong>.
    </p>
  </div>
</div>

<!-- ٢٣ -->
<div class="question">
  <div class="q-title">السؤال (٢٣): د(س) = س² + ٨ ، على المجال س ≥ ٠ ، أوجد د⁻¹(٩)</div>
  <div class="answer">
    <p class="step">
      أولًا نوجد الدالة العكسية بخطوات منظَّمة:
    </p>
    <p class="step">
      (١) ص = س² + ٨  
      (٢) نبدِّل: س = ص² + ٨ (هذا خطأ، لذا نفضِّل هنا الطريقة المباشرة لقيمة ٩ فقط)
    </p>
    <p class="step">
      بما أن د(س) = س² + ٨ ، نريد س بحيث د(س) = ٩:  
      س² + ٨ = ٩ ⇒ س² = ١ ⇒ س = ±١ ، لكن من المجال س ≥ ٠ ⇒ س = ١.
    </p>
    <p class="step">
      إذًا <strong>د⁻¹(٩) = ١.</strong>
    </p>
  </div>
</div>

<!-- ٢٤ -->
<div class="question">
  <div class="q-title">السؤال (٢٤): الدالة د(س) = س + ٢ ، على المجال ١ ≤ س ≤ ٦</div>
  <div class="answer">
    <p class="step">
      (١) ص = س + ٢  
      (٢) نبدِّل: س = ص + ٢  
      (٣) ص = س − ٢ ⇒ د⁻¹(س) = س − ٢.
    </p>
    <p class="step">
      نعوِّض بنهايات المجال:  
      د(١) = ٣ ، د(٦) = ٨ ⇒ <strong>مدى د(س): ٣ ≤ ص ≤ ٨.</strong>
    </p>
    <p class="step">
      في الدالة العكسية يكون:  
      مجال د⁻¹(س): ٣ ≤ س ≤ ٨  
      مدى د⁻¹(س): ١ ≤ ص ≤ ٦.
    </p>
  </div>
</div>

<!-- ٢٥ -->
<div class="question">
  <div class="q-title">السؤال (٢٥): إذا كانت د(س) = س² + ٤س ، حيث س ≤ −٢</div>
  <div class="answer">
    <p class="step">
      أولًا نكتبها في صورة مربع كامل:
      <br>د(س) = س² + ٤س = (س + ٢)² − ٤.
    </p>
    <p class="step">
      (١) نضع ص بدل د(س):  
      ص = (س + ٢)² − ٤
    </p>
    <p class="step">
      (٢) نبدِّل ص مع س:  
      س = (ص + ٢)² − ٤
    </p>
    <p class="step">
      (٣) نحل لـ ص:  
      س + ٤ = (ص + ٢)² ⇒ √(س + ٤) = ص + ٢  
      ولأن س الأصلية ≤ −٢ يكون ص (الذي مثّل س) ≤ −٢ ⇒ نأخذ الجذر السالب:  
      ص + ٢ = −√(س + ٤) ⇒ ص = −٢ − √(س + ٤).
    </p>
    <p class="step">
      إذًا <strong>د⁻¹(س) = −٢ − √(س + ٤)</strong> ، مجالها س ≥ −٤ ومدى د⁻¹(س): ص ≤ −٢.
    </p>
  </div>
</div>

<!-- ٢٦ -->
<div class="question">
  <div class="q-title">السؤال (٢٦): من الرسمين (أ) و(ب) ارسم منحنى الدالة العكسية على نفس المستوى</div>
  <div class="answer">
    <p class="step">
      نرسم المستقيم ص = س (منقطًا)، ثم نعكس كل نقطة (س ، ص) إلى (ص ، س)، فيظهر منحنى الدالة العكسية د⁻¹(س).
    </p>
  </div>
</div>

<!-- ٢٧ -->
<div class="question">
  <div class="q-title">السؤال (٢٧): د(س) = (س − ٢)² + ٣ ، حيث س &lt; ٢</div>
  <div class="answer">
    <p class="step">
      نكتب: د(س) = (س − ٢)² + ٣.
    </p>
    <p class="step">
      (١) ص = (س − ٢)² + ٣  
      (٢) نبدِّل: س = (ص − ٢)² + ٣  
      (٣) س − ٣ = (ص − ٢)² ⇒ √(س − ٣) = |ص − ٢|.
    </p>
    <p class="step">
      من المجال الأصلي س &lt; ٢ ⇒ في العكس يكون ص &lt; ٢ ⇒ نأخذ الجذر السالب:  
      ص − ٢ = −√(س − ٣) ⇒ ص = ٢ − √(س − ٣).
    </p>
    <p class="step">
      إذًا <strong>د⁻¹(س) = ٢ − √(س − ٣)</strong> ، مجالها س &gt; ٣ ، ومدى د⁻¹(س): ص &lt; ٢.
    </p>
  </div>
</div>

<!-- ٢٨ -->
<div class="question">
  <div class="q-title">السؤال (٢٨): متجه الانسحاب الذي يحوِّل الدالة د(س) = س³ − ٢س + ٢ إلى د(س) = س³ − ٢س − ٤</div>
  <div class="answer">
    <p class="step">
      الثابت تغيّر من ٢ إلى −٤ ⇒ نقص ٦ وحدات ⇒ انسحاب رأسي بالمتجه <strong>(٠ ، −٦)</strong>.
    </p>
  </div>
</div>

<!-- ٢٩ -->
<div class="question">
  <div class="q-title">السؤال (٢٩): متجه الانسحاب الذي يحوِّل ص = د(س) إلى ص = د(س − ١) + ١</div>
  <div class="answer">
    <p class="step">
      د(س − ١) ⇒ انتقال وحدة واحدة إلى اليمين.  
      +١ ⇒ انتقال وحدة واحدة إلى أعلى.  
      إذًا المتجه هو <strong>(١ ، ١).</strong>
    </p>
  </div>
</div>

<!-- ٣٠ -->
<div class="question">
  <div class="q-title">السؤال (٣٠): إذا تحرَّك منحنى ص = د(س) بالمتجه (أ ، ب)</div>
  <div class="answer">
    <p class="step">
      الصورة الجديدة: <strong>ص = د(س − أ) + ب.</strong>
    </p>
  </div>
</div>

<!-- ٣١ -->
<div class="question">
  <div class="q-title">السؤال (٣١): التحويل الذي يبقي الدالة ص = س³ كما هي</div>
  <div class="answer">
    <p class="step">
      عدم إجراء أي تحويل، أو تمدد رأسي بمعامل ١ (لا يغيِّر الشكل).
    </p>
  </div>
</div>

<!-- ٣٢ -->
<div class="question">
  <div class="q-title">السؤال (٣٢): معامل التمدد الرأسي الذي يحوِّل ص = س³ + ٢ إلى ص = ٨س³ + ٢</div>
  <div class="answer">
    <p class="step">
      المعامل أمام س³ تغيّر من ١ إلى ٨ ⇒ معامل التمدد الرأسي = <strong>٨</strong>.
    </p>
  </div>
</div>

<!-- ٣٣ -->
<div class="question">
  <div class="q-title">السؤال (٣٣): الدالة ص = ٢س³ بعد تمدد رأسي بمعامل
    <span class="frac"><span class="num">١</span><span class="den">٢</span></span></div>
  <div class="answer">
    <p class="step">
      ص الجديدة =
      <span class="frac"><span class="num">١</span><span class="den">٢</span></span> × ٢س³ = س³ ⇒ <strong>ص = س³.</strong>
    </p>
  </div>
</div>

<!-- ٣٤ -->
<div class="question">
  <div class="q-title">السؤال (٣٤): إذا كانت د(س) = س³ − ١ ، هـ(س) = √(س + ١) ، فأوجد (هـ ∘ د)(٢)</div>
  <div class="answer">
    <p class="step">
      د(٢) = ٨ − ١ = ٧ ، هـ(٧) = √(٧ + ١) = √٨ ⇒ <strong>(هـ ∘ د)(٢) = √٨.</strong>
    </p>
  </div>
</div>

<!-- ٣٥ -->
<div class="question">
  <div class="q-title">السؤال (٣٥): أيُّ الدوال الآتية تكون عكسية لنفسها؟</div>
  <div class="answer">
    <p class="step">
      الشرط أن تكون د(د(س)) = س. من الأمثلة المشهورة على مجال مناسب:
      <strong>ص =
        <span class="frac"><span class="num">١</span><span class="den">س</span></span>
      </strong>؛ دالتها العكسية هي نفسها.
    </p>
  </div>
</div>

<script>
function drawAxes(ctx, w, h) {
  ctx.strokeStyle = '#888';
  ctx.lineWidth = 1;

  ctx.beginPath(); // محور س
  ctx.moveTo(0, h / 2);
  ctx.lineTo(w, h / 2);
  ctx.stroke();

  ctx.beginPath(); // محور ص
  ctx.moveTo(w / 2, 0);
  ctx.lineTo(w / 2, h);
  ctx.stroke();
}

// أفقية (اختبار الخط الأفقي)
function animateHorizontal(canvasId, funcType) {
  const canvas = document.getElementById(canvasId);
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const w = canvas.width;
  const h = canvas.height;

  let t = 0;
  function f(x) {
    if (funcType === 'parabola') { // y = x^2
      return x * x;
    } else if (funcType === 'cubic') { // y = x^3
      return x * x * x / 2;
    } else { // line y = x
      return x;
    }
  }

  function draw() {
    ctx.clearRect(0, 0, w, h);
    drawAxes(ctx, w, h);

    // منحنى الدالة
    ctx.strokeStyle = '#0066cc';
    ctx.lineWidth = 2;
    ctx.beginPath();
    let first = true;
    for (let px = 0; px <= w; px++) {
      const x = (px - w / 2) / 30;
      const y = f(x);
      const py = h / 2 - y * 30;
      if (first) {
        ctx.moveTo(px, py);
        first = false;
      } else {
        ctx.lineTo(px, py);
      }
    }
    ctx.stroke();

    // خط أفقي متحرِّك
    const amp = h / 2 - 10;
    const yLine = h / 2 + Math.sin(t) * amp * 0.6;
    ctx.strokeStyle = '#cc0000';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(0, yLine);
    ctx.lineTo(w, yLine);
    ctx.stroke();

    t += 0.03;
    requestAnimationFrame(draw);
  }
  draw();
}

// رأسية (اختبار المستقيم الرأسي)
function animateVertical(canvasId, type) {
  const canvas = document.getElementById(canvasId);
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const w = canvas.width;
  const h = canvas.height;
  let t = 0;

  function drawRelation() {
    ctx.strokeStyle = '#0066cc';
    ctx.lineWidth = 2;
    ctx.beginPath();

    if (type === 'sideways') {
      // علاقة: x = y^2 (قطع مكافئ أفقي)
      let first = true;
      for (let i = -60; i <= 60; i++) {
        const tp = i / 20;
        const x = tp * tp;
        const y = tp;
        const px = w / 2 + x * 30;
        const py = h / 2 - y * 30;
        if (first) {
          ctx.moveTo(px, py);
          first = false;
        } else {
          ctx.lineTo(px, py);
        }
      }
    } else if (type === 'quad') {
      // دالة تربيعية y = x^2 / 2
      let first = true;
      for (let px = 0; px <= w; px++) {
        const x = (px - w / 2) / 30;
        const y = (x * x) / 2;
        const py = h / 2 - y * 30;
        if (first) {
          ctx.moveTo(px, py);
          first = false;
        } else {
          ctx.lineTo(px, py);
        }
      }
    }
    ctx.stroke();
  }

  function draw() {
    ctx.clearRect(0, 0, w, h);
    drawAxes(ctx, w, h);
    drawRelation();

    const amp = w / 2 - 10;
    const xLine = w / 2 + Math.sin(t) * amp * 0.6;
    ctx.strokeStyle = '#cc0000';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(xLine, 0);
    ctx.lineTo(xLine, h);
    ctx.stroke();

    t += 0.03;
    requestAnimationFrame(draw);
  }
  draw();
}

window.onload = function () {
  animateHorizontal('parabolaCanvas', 'parabola');
  animateHorizontal('cubicCanvas', 'cubic');
  animateHorizontal('lineCanvas', 'line');

  animateVertical('sidewaysCanvas', 'sideways');
  animateVertical('quadVCanvas', 'quad');
};
</script>

</body>
</html>
